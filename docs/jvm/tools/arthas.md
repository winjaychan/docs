---
outline: deep
---
# Arthas

## 简介

Arthas 是一款线上监控诊断产品，通过全局视角实时查看应用 load、内存、gc、线程的状态信息，并能在不修改应用代码的情况下，对业务问题进行诊断，包括查看方法调用的出入参、异常，监测方法执行耗时，类加载信息等，大大提升线上问题排查效率。

## 背景

通常，本地开发环境无法访问生产环境。如果在生产环境中遇到问题，则无法使用 IDE 远程调试。更糟糕的是，在生产环境中调试是不可接受的，因为它会暂停所有线程，导致服务暂停。

开发人员可以尝试在测试环境或者预发环境中复现生产环境中的问题。但是，某些问题无法在不同的环境中轻松复现，甚至在重新启动后就消失了。

如果您正在考虑在代码中添加一些日志以帮助解决问题，您将必须经历以下阶段：测试、预发，然后生产。这种方法效率低下，更糟糕的是，该问题可能无法解决，因为一旦 JVM 重新启动，它可能无法复现，如上文所述。

Arthas 旨在解决这些问题。开发人员可以在线解决生产问题。无需 JVM 重启，无需代码更改。 Arthas 作为观察者永远不会暂停正在运行的线程。

## Arthas使用场景

得益于Arthas强大且丰富的功能，让Arthas能做的事情超乎想象。下面仅仅列几项常见的使用场景，更多的使用场景可以在熟悉了Arthas之后再探索。

1. 是否有一个全局视角来查看系统的运行状况？
2. 为什么CPU又升高了，到底是哪里占用了CPU？
3. 运行的多线程有死锁吗？有阻塞吗？
4. 程序运行耗时很长，是哪里耗时比较长呢？如何监测呢？
5. 这个类从哪个jar包加载的？为什么会报各种类相关的Exception？
6. 我改的代码为什么没有执行到？难道是我没commit代码吗？还是分支搞错了？
7. 遇到问题无法在线上debug，难道只能通过加日志再重新发布吗？
8. 有什么办法可以监控到JVM的实时运行状态？